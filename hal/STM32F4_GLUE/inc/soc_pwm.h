/**
 * *********************************************************************************************************************
 *  __     __  __
 * |  |   |__ |__
 * |__| X |   |     FlyingFish
 *
 * *********************************************************************************************************************
 * @author      imindude@gmail.com
 * *********************************************************************************************************************
 */

#ifndef __SOC_PWM_H__
#define __SOC_PWM_H__

/* ****************************************************************************************************************** */

#include <stdint.h>
#include "stm32f4xx.h"

/* ****************************************************************************************************************** */

typedef enum _PwmInPin
{
    _PwmInPin_1,
    _PwmInPin_N
}
PwmInPin;

typedef void    *PwmInHandle;

typedef void    (*PwmInCallback)(uint32_t duration_us, void *param);

/* ****************************************************************************************************************** */

extern PwmInHandle  soc_pwmin_init(PwmInPin pin, PwmInCallback cbf, void *param);

/* ****************************************************************************************************************** */

typedef enum _PwmOutPin
{
    _PwmOutPin_1,
    _PwmOutPin_2,
    _PwmOutPin_3,
    _PwmOutPin_4,
    _PwmOutPin_N
} PwmOutPin;

typedef void    *PwmOutHandle;

/* ****************************************************************************************************************** */

extern PwmOutHandle soc_pwmout_init(PwmOutPin pin, uint32_t freq);
extern void         soc_pwmout_set_duty(PwmOutHandle h, float duty_us);

/* ****************************************************************************************************************** */

#endif /* __SOC_PWM_H__ */

/* end of file ****************************************************************************************************** */
