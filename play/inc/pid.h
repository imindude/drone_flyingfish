/**
 * *********************************************************************************************************************
 *  __     __  __
 * |  |   |__ |__
 * |__| X |   |     FlyingFish
 *
 * *********************************************************************************************************************
 * @author      imindude@gmail.com
 * *********************************************************************************************************************
 */

#ifndef __PID_H__
#define __PID_H__

/* ****************************************************************************************************************** */

#include "typedef.h"

/* ****************************************************************************************************************** */

typedef struct _PidInitParam
{
    PidGain     gain_;
    int8_t      max_i_;
    int8_t      angle_amp_;
    int8_t      rate_amp_;
    int16_t     dterm_fc_;
}
PidInitParam;

typedef void    *PidHandle;

/* ****************************************************************************************************************** */

extern PidHandle    pid_init(PidInitParam *init_param);
extern void         pid_reset(PidHandle h);
extern float        pid_update(PidHandle h, ControlMode mode, float actual, float desire, float rate, float dt);

/* ****************************************************************************************************************** */

#endif /* __PID_H__ */

/* end of file ****************************************************************************************************** */
